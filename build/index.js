(()=>{"use strict";class e{constructor(e){this.container=e,this.tabTriggers=this.container.querySelectorAll(".tab-trigger"),this.tabContents=this.container.querySelectorAll(".tab-content"),this.init()}init(){this.updateActiveTab(),window.addEventListener("popstate",()=>this.updateActiveTab())}updateActiveTab(){const e=new URLSearchParams(window.location.search).get("tab")||this.tabTriggers[0]?.dataset.tab;this.tabTriggers.forEach(t=>{const s=t.dataset.tab===e;t.classList.toggle("bg-white",s),t.classList.toggle("text-gray-900",s),t.classList.toggle("shadow-sm",s),t.classList.toggle("text-gray-500",!s),t.classList.toggle("hover:text-gray-700",!s)}),this.tabContents.forEach(t=>{const s=t.dataset.tab===e;t.classList.toggle("hidden",!s),t.classList.toggle("block",s)})}}class t{constructor(e){this.header=e,this.mobileMenu=this.header.querySelector("#mobile-menu"),this.mobileMenuButton=this.header.querySelector("#mobile-menu-button"),this.menuIcon=this.header.querySelector("#mobile-menu-icon"),this.closeIcon=this.header.querySelector("#mobile-close-icon"),this.isMobileMenuOpen=!1,this.navItems=this.header.querySelectorAll(".nav-item"),this.init()}init(){this.setupMobileMenu(),this.setupDesktopDropdowns()}setupMobileMenu(){if(!this.mobileMenuButton)return;this.mobileMenuButton.addEventListener("click",()=>this.toggleMobileMenu());const e=this.mobileMenu?.querySelectorAll("a");e?.forEach(e=>{e.addEventListener("click",()=>this.closeMobileMenu())})}toggleMobileMenu(){this.isMobileMenuOpen=!this.isMobileMenuOpen,this.isMobileMenuOpen?(this.mobileMenu.classList.remove("hidden"),this.menuIcon.classList.add("hidden"),this.closeIcon.classList.remove("hidden")):this.closeMobileMenu()}closeMobileMenu(){this.mobileMenu.classList.add("hidden"),this.menuIcon.classList.remove("hidden"),this.closeIcon.classList.add("hidden"),this.isMobileMenuOpen=!1}setupDesktopDropdowns(){this.navItems.forEach(e=>{const t=e.querySelector(".dropdown-menu");t&&(e.addEventListener("mouseenter",()=>{t.classList.add("show")}),e.addEventListener("mouseleave",()=>{t.classList.remove("show")}),t.addEventListener("mouseenter",()=>{t.classList.add("show")}),t.addEventListener("mouseleave",()=>{t.classList.remove("show")}))})}}class s{constructor(e){this.form=e,this.submitBtn=this.form.querySelector("#submit-btn"),this.submitText=this.submitBtn?.querySelector(".submit-text"),this.loadingText=this.submitBtn?.querySelector(".loading-text"),this.init()}init(){this.form&&this.form.addEventListener("submit",e=>this.handleSubmit(e))}handleSubmit(e){this.submitBtn&&this.submitText&&this.loadingText&&(this.submitBtn.disabled=!0,this.submitText.classList.add("hidden"),this.loadingText.classList.remove("hidden"))}resetFormState(){this.submitBtn&&this.submitText&&this.loadingText&&(this.submitBtn.disabled=!1,this.submitText.classList.remove("hidden"),this.loadingText.classList.add("hidden"))}}class i{constructor(e){this.container=e,this.items=Array.from(this.container.querySelectorAll(".accordion-item")),this.triggers=Array.from(this.container.querySelectorAll(".accordion-trigger")),this.contents=Array.from(this.container.querySelectorAll(".accordion-content")),this.init()}init(){this.triggers.forEach((e,t)=>{e.addEventListener("click",e=>{this.toggleItem(e.currentTarget)}),e.addEventListener("keydown",e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.toggleItem(e.currentTarget))})}),this.items.forEach((e,t)=>{const s=e.querySelector(".accordion-trigger"),i=e.querySelector(".accordion-content");"true"!==s.getAttribute("aria-expanded")&&i.classList.add("hidden")})}toggleItem(e){const t=e.closest(".accordion-item"),s=t.querySelector(".accordion-content"),i="true"===e.getAttribute("aria-expanded"),n=e.querySelector("svg");e.setAttribute("aria-expanded",!i),s.classList.toggle("hidden"),n&&n.classList.toggle("rotate-180"),!i&&this.container.hasAttribute("data-accordion-single")&&this.closeOtherItems(t)}closeOtherItems(e){this.items.forEach(t=>{if(t!==e){const e=t.querySelector(".accordion-trigger"),s=t.querySelector(".accordion-content"),i=e.querySelector("svg");e.setAttribute("aria-expanded","false"),s.classList.add("hidden"),i&&i.classList.remove("rotate-180")}})}}class n{constructor(){this.isOpen=!1,this.isLoading=!1,this.previousValue="",this.typingTimer=null,this.searchToggle=document.querySelector(".js-search-toggle"),this.searchOverlay=null,this.searchInput=null,this.searchResults=null,this.searchToggle&&this.init()}init(){this.createSearchOverlay(),this.setupEventListeners()}createSearchOverlay(){this.searchOverlay=document.createElement("div"),this.searchOverlay.className="fixed inset-0 z-[100] hidden bg-black/75 backdrop-blur-sm transition-opacity duration-300",this.searchOverlay.style.opacity="0";const e=document.createElement("div");e.className="relative w-full h-full flex flex-col items-center pt-16 px-4 overflow-y-auto";const t=document.createElement("button");t.className="absolute top-4 right-4 p-2 text-white hover:text-gray-300 transition-colors",t.innerHTML='\n      <svg class="w-8 h-8" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n        <line x1="18" y1="6" x2="6" y2="18"></line>\n        <line x1="6" y1="6" x2="18" y2="18"></line>\n      </svg>\n      <span class="sr-only">Close search</span>\n    ',t.addEventListener("click",()=>this.close());const s=document.createElement("div");s.className="w-full max-w-3xl mb-8",this.searchInput=document.createElement("input"),this.searchInput.type="text",this.searchInput.placeholder="Search the municipality website...",this.searchInput.className="w-full px-6 py-4 text-lg rounded-lg border-0 focus:ring-2 focus:ring-primary-500 focus:outline-none bg-white/90 placeholder-gray-500 shadow-lg",this.searchInput.autocomplete="off",s.appendChild(this.searchInput),this.searchResults=document.createElement("div"),this.searchResults.className="w-full max-w-6xl flex-1 pb-20",e.appendChild(t),e.appendChild(s),e.appendChild(this.searchResults),this.searchOverlay.appendChild(e),document.body.appendChild(this.searchOverlay)}setupEventListeners(){this.searchToggle.addEventListener("click",e=>{e.preventDefault(),this.toggle()}),document.addEventListener("keydown",e=>{!e.ctrlKey&&!e.metaKey||"q"!==e.key.toLowerCase()||this.isOpen||(e.preventDefault(),this.open()),"Escape"===e.key&&this.isOpen&&this.close()}),this.searchInput.addEventListener("keyup",()=>this.handleTyping()),this.searchOverlay.addEventListener("transitionend",()=>{this.isOpen&&this.searchInput.focus()})}handleTyping(){const e=this.searchInput.value;e!==this.previousValue&&(clearTimeout(this.typingTimer),e?(this.isLoading||(this.searchResults.innerHTML='\n            <div class="flex justify-center py-12">\n              <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"></div>\n            </div>\n          ',this.isLoading=!0),this.typingTimer=setTimeout(()=>this.performSearch(),500)):this.clearResults(),this.previousValue=e)}performSearch(){this.showPlaceholderResults()}showPlaceholderResults(){this.isLoading=!1,this.searchResults.innerHTML='\n      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">\n        \x3c!-- Column 1: General Information --\x3e\n        <div>\n          <h2 class="text-xl font-bold text-white mb-4 pb-2 border-b border-white/20">General Information</h2>\n          <ul class="space-y-3">\n            <li><a href="#" class="text-white/90 hover:text-white hover:underline">Municipal Services</a></li>\n            <li><a href="#" class="text-white/90 hover:text-white hover:underline">Public Announcements</a></li>\n            <li><a href="#" class="text-white/90 hover:text-white hover:underline">Contact Information</a></li>\n          </ul>\n        </div>\n        \n        \x3c!-- Column 2: Departments & Services --\x3e\n        <div>\n          <h2 class="text-xl font-bold text-white mb-4 pb-2 border-b border-white/20">Departments</h2>\n          <ul class="space-y-3">\n            <li><a href="#" class="text-white/90 hover:text-white hover:underline">Mayor\'s Office</a></li>\n            <li><a href="#" class="text-white/90 hover:text-white hover:underline">Treasurer\'s Office</a></li>\n            <li><a href="#" class="text-white/90 hover:text-white hover:underline">Public Works</a></li>\n          </ul>\n          \n          <h2 class="text-xl font-bold text-white mt-8 mb-4 pb-2 border-b border-white/20">Services</h2>\n          <ul class="space-y-3">\n            <li><a href="#" class="text-white/90 hover:text-white hover:underline">Business Permits</a></li>\n            <li><a href="#" class="text-white/90 hover:text-white hover:underline">Marriage License</a></li>\n          </ul>\n        </div>\n        \n        \x3c!-- Column 3: News & Events --\x3e\n        <div>\n          <h2 class="text-xl font-bold text-white mb-4 pb-2 border-b border-white/20">News & Events</h2>\n          <div class="space-y-4">\n            <div class="bg-white/10 p-4 rounded-lg">\n              <h3 class="font-semibold text-white">Town Fiesta 2023</h3>\n              <p class="text-white/80 text-sm mt-1">June 15-20, 2023</p>\n              <p class="text-white/90 mt-2">Annual celebration of our town\'s patron saint.</p>\n            </div>\n            <div class="bg-white/10 p-4 rounded-lg">\n              <h3 class="font-semibold text-white">Public Hearing</h3>\n              <p class="text-white/80 text-sm mt-1">July 5, 2023</p>\n              <p class="text-white/90 mt-2">Discussion of new municipal ordinances.</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    '}clearResults(){this.searchResults.innerHTML="",this.isLoading=!1}toggle(){this.isOpen?this.close():this.open()}open(){this.isOpen||(this.isOpen=!0,document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",this.searchOverlay.classList.remove("hidden"),requestAnimationFrame(()=>{this.searchOverlay.style.opacity="1"}))}close(){this.isOpen&&(this.isOpen=!1,this.searchOverlay.style.opacity="0",setTimeout(()=>{this.searchOverlay.classList.add("hidden"),document.body.style.overflow="",document.documentElement.style.overflow="",this.searchInput.value="",this.clearResults()},300))}}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[data-tab-navigation]").forEach(t=>{new e(t)});const r=document.querySelector("header");r&&new t(r),document.querySelectorAll("#contact-form").forEach(e=>{new s(e)});const o=document.querySelectorAll(".divide-y.divide-gray-200");console.log(`Found ${o.length} accordion containers`),o.forEach(e=>{new i(e)}),new n})})();